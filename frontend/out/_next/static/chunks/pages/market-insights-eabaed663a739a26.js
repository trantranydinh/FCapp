(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134,365],{540:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market-insights",function(){return t(4621)}])},3472:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var n=t(5893),a=t(316),s=t(4606),i=t(4088),l=t(6915),o=t(3311),c=t(4819);function d(e){let{title:r,value:t,change:d,changeLabel:u="vs last 7 days",badge:m,icon:h,trend:x="neutral"}=e,g="up"===x?i.Z:"down"===x?l.Z:o.Z;return(0,n.jsxs)(a.Zb,{className:"bg-card border border-border shadow-none overflow-hidden relative group",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,n.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[(0,n.jsx)(a.ll,{className:"text-sm font-medium text-muted-foreground",children:r}),m&&(0,n.jsx)(s.C,{variant:m.variant||"outline",className:"text-xs font-medium shadow-sm",children:m.label})]}),(0,n.jsx)(a.aY,{className:"relative z-10",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[h&&(0,n.jsx)("div",{className:(0,c.cn)("p-2 rounded-lg bg-primary/5 group-hover:bg-primary/10 transition-colors","up"===x?"text-success":"down"===x?"text-destructive":"text-primary"),children:(0,n.jsx)(h,{className:"h-5 w-5"})}),(0,n.jsx)("div",{className:"text-2xl font-bold tracking-tight text-foreground",children:t||"—"})]}),void 0!==d&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1 text-xs px-2 py-1 rounded-full font-medium","up"===x?"text-success bg-success/10":"down"===x?"text-destructive bg-destructive/10":"text-muted-foreground bg-secondary"),children:[(0,n.jsx)(g,{className:"h-3 w-3"}),(0,n.jsx)("span",{children:d})]}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:u})]})]})})]})}},4606:function(e,r,t){"use strict";t.d(r,{C:function(){return l}});var n=t(5893);t(7294);var a=t(2003),s=t(4819);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:t}),r),...a})}},316:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var n=t(5893),a=t(7294),s=t(4819);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},285:function(e,r,t){"use strict";t.d(r,{SO:function(){return i},__:function(){return l},hd:function(){return o}});var n=t(5068),a=t(7365);let s=async e=>{try{return(await a.api.get(e)).data}catch(e){(0,a.handleError)(e)}},i=()=>(0,n.ZP)("/api/v1/dashboard/market-sentiment",s),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,n.ZP)("/api/v1/dashboard/news-summary?limit=".concat(e,"&page=").concat(r),s)},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return(0,n.ZP)("/api/v1/price/historical-data?months_back=".concat(e),s)}},7365:function(e,r,t){"use strict";t.r(r),t.d(r,{api:function(){return s},handleError:function(){return i}});var n=t(7066);let a=t(7061).env.NEXT_PUBLIC_BACKEND_URL||"",s=n.Z.create({baseURL:a,withCredentials:!0}),i=e=>{if(e.response){var r,t,n;throw console.error("[API Error]",{status:e.response.status,url:null===(r=e.response.config)||void 0===r?void 0:r.url,data:e.response.data}),Error((null===(t=e.response.data)||void 0===t?void 0:t.message)||(null===(n=e.response.data)||void 0===n?void 0:n.error)||"Request failed with status ".concat(e.response.status))}if("ERR_NETWORK"===e.code||"Network Error"===e.message)throw Error("Cannot connect to backend server. Please ensure backend is running on http://localhost:50005. Run: cd backend && npm run dev");throw Error(e.message||"Network error")}},63:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(1462).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},1593:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(1462).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7372:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(1462).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3311:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(1462).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},6915:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(1462).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},4621:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var n=t(5893),a=t(9008),s=t.n(a),i=t(1298),l=t(3472),o=t(4819);let c=[{name:"Raw Cashew Nut",change:5.2,volume:"High",color:"bg-emerald-500"},{name:"Kernels W320",change:2.1,volume:"Med",color:"bg-emerald-400"},{name:"Kernels W240",change:-1.5,volume:"Low",color:"bg-red-400"},{name:"Broken Grades",change:.8,volume:"Med",color:"bg-emerald-300/80"},{name:"Roasted/Salted",change:-3.2,volume:"High",color:"bg-red-500"},{name:"Organic",change:8.5,volume:"Low",color:"bg-emerald-600"},{name:"Fair Trade",change:1.2,volume:"Low",color:"bg-emerald-300"},{name:"By-products",change:-.5,volume:"Med",color:"bg-red-300/80"}];function d(){return(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1 h-[300px] w-full p-1 rounded-xl bg-muted/20 border border-white/10",children:c.map((e,r)=>(0,n.jsxs)("div",{className:(0,o.cn)("relative flex flex-col items-center justify-center p-4 rounded-lg transition-all duration-300 hover:scale-[1.02] hover:z-10 cursor-pointer group overflow-hidden",e.color,"bg-opacity-20 hover:bg-opacity-30 backdrop-blur-sm border border-white/5"),children:[(0,n.jsx)("div",{className:(0,o.cn)("absolute inset-0 opacity-20 transition-opacity group-hover:opacity-30",e.color)}),(0,n.jsx)("span",{className:"relative z-10 font-bold text-foreground/90 text-center leading-tight",children:e.name}),(0,n.jsxs)("span",{className:(0,o.cn)("relative z-10 text-lg font-bold mt-1",e.change>0?"text-emerald-700 dark:text-emerald-300":"text-red-700 dark:text-red-300"),children:[e.change>0?"+":"",e.change,"%"]}),(0,n.jsxs)("span",{className:"relative z-10 text-[10px] uppercase tracking-wider opacity-60 mt-2",children:["Vol: ",e.volume]})]},r))})}var u=t(316),m=t(4606),h=t(285),x=t(3311),g=t(4088),p=t(6915),f=t(5908),v=t(63);let b=(0,t(1462).Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var j=t(7372),N=t(1593),y=()=>{let{data:e}=(0,h.SO)(),r=null==e?void 0:e.data,t=e=>e>=7?"destructive":e>=4?"warning":"outline",a=Math.round(100*((null==r?void 0:r.confidence)||0)),o=(e=>{if(!e)return x.Z;let r=e.toUpperCase();return"POSITIVE"===r||"BULLISH"===r?g.Z:"NEGATIVE"===r||"BEARISH"===r?p.Z:x.Z})(null==r?void 0:r.overall_sentiment);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"Market Insights | Cashew Forecast"})}),(0,n.jsx)(i.Z,{title:"Market Insights",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(l.Z,{title:"Overall Sentiment",value:(null==r?void 0:r.overall_sentiment)||"NEUTRAL",badge:(e=>{if(!e)return{label:"Unknown",variant:"outline"};let r=e.toUpperCase();return"POSITIVE"===r||"BULLISH"===r?{label:"Bullish",variant:"success"}:"NEGATIVE"===r||"BEARISH"===r?{label:"Bearish",variant:"destructive"}:{label:"Neutral",variant:"outline"}})(null==r?void 0:r.overall_sentiment),icon:o}),(0,n.jsx)(l.Z,{title:"Sentiment Score",value:(null==r?void 0:r.sentiment_score)?r.sentiment_score.toFixed(2):"—",icon:f.Z}),(0,n.jsx)(l.Z,{title:"Confidence Level",value:r?"".concat(a,"%"):"—",badge:a>70?{label:"High",variant:"success"}:a>50?{label:"Medium",variant:"outline"}:{label:"Low",variant:"warning"},icon:v.Z})]}),(0,n.jsxs)(u.Zb,{className:"xl:col-span-2 glass-card border-none",children:[(0,n.jsxs)(u.Ol,{children:[(0,n.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(b,{className:"h-5 w-5 text-primary"}),"Sector Performance Heatmap"]}),(0,n.jsx)(u.SZ,{children:"Real-time volume and price change across cashew sectors"})]}),(0,n.jsx)(u.aY,{children:(0,n.jsx)(d,{})})]})]}),(0,n.jsxs)(u.Zb,{className:"bg-card border border-border shadow-none",children:[(0,n.jsxs)(u.Ol,{children:[(0,n.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(j.Z,{className:"h-5 w-5 text-primary"}),"AI Market Intelligence"]}),(0,n.jsx)(u.SZ,{children:"Deep-dive analysis generated from global trade data and news sources"})]}),(0,n.jsx)(u.aY,{children:(null==r?void 0:r.insights)&&r.insights.length>0?(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:r.insights.map((e,r)=>{var a;return(0,n.jsxs)("div",{className:"rounded-xl border border-border/50 bg-white/50 dark:bg-slate-900/50 p-5 transition-all hover:bg-white/80 dark:hover:bg-slate-900/80 hover:shadow-md hover:border-primary/20 group flex flex-col h-full",children:[(0,n.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"font-semibold leading-tight text-lg group-hover:text-primary transition-colors",children:e.headline}),(0,n.jsx)(m.C,{variant:"outline",className:"text-xs bg-background/50 backdrop-blur-sm",children:e.section})]}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.summary})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t border-border/50 pt-3 text-xs",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"text-muted-foreground font-medium",children:"Impact:"}),(0,n.jsx)(m.C,{variant:t(e.impact_score),className:"shadow-sm h-5",children:(null===(a=e.impact_score)||void 0===a?void 0:a.toFixed(1))||"—"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"text-muted-foreground font-medium",children:"Confidence:"}),(0,n.jsxs)("span",{className:"font-bold text-primary",children:[Math.round(100*(e.confidence||0)),"%"]})]})]}),(0,n.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors opacity-0 group-hover:opacity-100"})]})]},e.section||r)})}):(0,n.jsx)("div",{className:"flex h-64 items-center justify-center text-muted-foreground",children:(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)(f.Z,{className:"h-12 w-12 mx-auto opacity-20"}),(0,n.jsx)("p",{children:"No market insights available."}),(0,n.jsx)("p",{className:"text-sm",children:"Generate a forecast to see market analysis."})]})})})]})]})})]})}}},function(e){e.O(0,[474,552,66,20,298,888,774,179],function(){return e(e.s=540)}),_N_E=e.O()}]);