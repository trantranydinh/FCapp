(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767,365],{5242:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news-watch",function(){return t(7311)}])},4606:function(e,s,t){"use strict";t.d(s,{C:function(){return o}});var r=t(5893);t(7294);var a=t(2003),n=t(4819);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...a})}},316:function(e,s,t){"use strict";t.d(s,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return i}});var r=t(5893),a=t(7294),n=t(4819);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},285:function(e,s,t){"use strict";t.d(s,{SO:function(){return l},__:function(){return o},hd:function(){return i}});var r=t(5068),a=t(7365);let n=async e=>{try{return(await a.api.get(e)).data}catch(e){(0,a.handleError)(e)}},l=()=>(0,r.ZP)("/api/v1/dashboard/market-sentiment",n),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,r.ZP)("/api/v1/dashboard/news-summary?limit=".concat(e,"&page=").concat(s),n)},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return(0,r.ZP)("/api/v1/price/historical-data?months_back=".concat(e),n)}},7365:function(e,s,t){"use strict";t.r(s),t.d(s,{api:function(){return n},handleError:function(){return l}});var r=t(7066);let a=t(7061).env.NEXT_PUBLIC_BACKEND_URL||"",n=r.Z.create({baseURL:a,withCredentials:!0}),l=e=>{if(e.response){var s,t,r;throw console.error("[API Error]",{status:e.response.status,url:null===(s=e.response.config)||void 0===s?void 0:s.url,data:e.response.data}),Error((null===(t=e.response.data)||void 0===t?void 0:t.message)||(null===(r=e.response.data)||void 0===r?void 0:r.error)||"Request failed with status ".concat(e.response.status))}if("ERR_NETWORK"===e.code||"Network Error"===e.message)throw Error("Cannot connect to backend server. Please ensure backend is running on http://localhost:50005. Run: cd backend && npm run dev");throw Error(e.message||"Network error")}},1568:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(1462).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7311:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var r=t(5893),a=t(9008),n=t.n(a),l=t(7294),o=t(1298);t(316);var i=t(4606),d=t(7202),c=t(1462);let m=(0,c.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var u=t(4819);let x=e=>{let{children:s,open:t,onOpenChange:a}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 sm:p-6",onClick:e=>{e.target===e.currentTarget&&a&&a(!1)},children:(0,r.jsx)("div",{className:"relative z-50 w-full flex justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"pointer-events-auto w-full max-w-lg",children:l.Children.map(s,e=>l.isValidElement(e)?l.cloneElement(e,{onClose:()=>a&&a(!1)}):e)})})}):null},p=l.forwardRef((e,s)=>{let{className:t,children:a,onClose:n,hideClose:l,...o}=e;return(0,r.jsxs)("div",{ref:s,className:(0,u.cn)("relative left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...o,children:[a,!l&&(0,r.jsxs)("button",{onClick:n,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(m,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})});p.displayName="DialogContent",l.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})}).displayName="DialogTitle",l.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",t),...a})}).displayName="DialogDescription";var h=t(285);let g=(0,c.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var f=t(1568);let b=(0,c.Z)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),v=(0,c.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var j=t(816),N=t(4088),y=t(5269),w=()=>{var e,s,t;let[a,c]=(0,l.useState)(12),[w,k]=(0,l.useState)(1),[_,C]=(0,l.useState)(null),[S,R]=(0,l.useState)(""),[E,Z]=(0,l.useState)(!1),[D,M]=(0,l.useState)(""),{data:T,isLoading:z}=(0,h.__)(a,w),{mutate:q}=(0,y.kY)();(0,l.useEffect)(()=>{M(new Date().toLocaleDateString(void 0,{month:"short",day:"numeric"}))},[]);let L=(null==T?void 0:null===(e=T.data)||void 0===e?void 0:e.top_news)||[],P=(null==T?void 0:T.data)||{},A=async e=>{if(e.preventDefault(),S.trim()){Z(!0);try{(await fetch("/api/v1/dashboard/news-refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:[S],limit:a})})).ok&&(q("/api/v1/dashboard/news-summary?limit=".concat(a,"&page=").concat(w)),R(""))}catch(e){console.error("Search failed",e)}finally{Z(!1)}}},I=e=>{let s=["https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&q=80","https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&q=80","https://images.unsplash.com/photo-1611974765270-ca12586343bb?w=800&q=80","https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=800&q=80","https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&q=80","https://images.unsplash.com/photo-1559825481-12a05cc00344?w=800&q=80"];return s[e%s.length]};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Market Insights | Intersnack Forecast"})}),(0,r.jsxs)(o.Z,{title:"Market Insights",children:[(0,r.jsxs)("div",{className:"space-y-10 max-w-[1600px] mx-auto",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-border pb-6 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3 max-w-4xl",children:[(0,r.jsxs)("h1",{className:"text-4xl font-light tracking-tight text-foreground",children:["Market ",(0,r.jsx)("span",{className:"font-semibold text-primary",children:"Beat"})]}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Curated intelligence on global cashew markets, supply chain disruptions, and price movements."})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("form",{onSubmit:A,className:"flex items-center gap-2",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Search topics...",value:S,onChange:e=>R(e.target.value),className:"bg-secondary/50 border border-border rounded-full pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 w-48 transition-all"})]})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>k(e=>Math.max(1,e-1)),disabled:1===w,children:(0,r.jsx)(f.Z,{className:"h-4 w-4 rotate-90"})}),(0,r.jsxs)("span",{className:"text-xs font-medium min-w-[60px] text-center",children:["Page ",P.current_page||1," / ",P.total_pages||1]}),(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>k(e=>Math.min(P.total_pages||1,e+1)),disabled:w>=(P.total_pages||1),children:(0,r.jsx)(f.Z,{className:"h-4 w-4 -rotate-90"})})]}),(0,r.jsx)("div",{className:"h-4 w-px bg-border/60"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Per page:"}),[12,24,48].map(e=>(0,r.jsx)("button",{onClick:()=>{c(e),k(1)},className:"px-3 py-1 text-xs rounded-full transition-all ".concat(a===e?"bg-foreground text-background font-medium":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:e},e))]})]})]})]}),z||E?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-pulse",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"h-64 bg-secondary rounded-2xl w-full"}),(0,r.jsx)("div",{className:"h-4 bg-secondary w-1/3 rounded"}),(0,r.jsx)("div",{className:"h-8 bg-secondary w-full rounded"}),(0,r.jsx)("div",{className:"h-20 bg-secondary w-full rounded"})]},e))}):L.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((e,s)=>{var t,a,n;return(0,r.jsxs)("article",{className:"flex flex-col bg-card border border-border/60 hover:border-primary/50 shadow-sm hover:shadow-md transition-all duration-300 rounded-xl overflow-hidden group h-full cursor-pointer",onClick:()=>C({...e,_resolvedImage:e.image_url||I(s)}),children:[(0,r.jsxs)("div",{className:"relative h-48 w-full shrink-0 overflow-hidden bg-muted",children:[(0,r.jsx)("img",{src:e.image_url||I(s),alt:e.title,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:e=>{e.target.src=I(s)}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,r.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,r.jsxs)(i.C,{className:(0,u.cn)("text-[10px] h-5 border-0 text-white backdrop-blur-md px-2","High"===e.trustLevel?"bg-green-600/90":"Medium"===e.trustLevel?"bg-amber-600/90":"bg-red-600/90"),children:[e.trustLevel||"Medium"," Trust"]})})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 p-4 gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:[(0,r.jsx)(i.C,{variant:"outline",className:(0,u.cn)("border-0 bg-opacity-10 text-[10px] px-2 h-5","Market"===e.category?"text-blue-600 bg-blue-100":"Supply"===e.category?"text-emerald-600 bg-emerald-100":"Logistics"===e.category?"text-purple-600 bg-purple-100":"text-slate-600 bg-slate-100"),children:e.category||"General"}),(0,r.jsx)("span",{className:"text-border/60",children:"|"}),(0,r.jsx)("span",{className:"truncate max-w-[120px] text-foreground font-bold",children:e.source||"Unknown Source"}),(0,r.jsx)("span",{className:"text-border/60",children:"|"}),(0,r.jsx)("span",{children:e.publishedAt&&!isNaN(new Date(e.publishedAt).getTime())?new Date(e.publishedAt).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"Retrieved: ".concat(new Date().toLocaleDateString(void 0,{month:"short",day:"numeric"}))})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold text-foreground leading-snug group-hover:text-primary transition-colors line-clamp-2",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[(0,r.jsxs)("span",{className:"bg-secondary/50 px-1.5 py-0.5 rounded",children:["Tier ",e.sourceTier||"?"]}),e.title.toLowerCase().includes("vietnam")&&(0,r.jsx)("span",{className:"bg-secondary/50 px-1.5 py-0.5 rounded",children:"Region: Vietnam"}),(null===(t=e.trustReasons)||void 0===t?void 0:t.includes("High Consensus"))&&(0,r.jsx)("span",{className:"bg-secondary/50 px-1.5 py-0.5 rounded text-primary",children:"High Consensus"})]}),(0,r.jsx)("div",{className:"relative pl-3 border-l-2 border-primary/30 mt-3 pt-1",children:(0,r.jsx)("div",{className:"text-sm text-muted-foreground leading-relaxed text-justify space-y-1",children:e.summary&&e.summary.length>100?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"line-clamp-4",children:[(0,r.jsx)("span",{className:"font-semibold text-foreground/80",children:"Insight: "}),e.summary.split(". ")[0],"."]}),e.summary.split(". ").length>1&&(0,r.jsxs)("p",{className:"line-clamp-2 italic text-xs mt-1",children:['"',e.summary.split(". ").slice(1).join(". ").substring(0,100),'..."']})]}):(0,r.jsxs)("p",{className:"italic",children:['"',e.summary||"No specific details available.",'"']})})})]}),(0,r.jsx)("div",{className:"h-px bg-border/40 w-full my-1"}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:(null===(a=e.related_links)||void 0===a?void 0:a.length)>0?(0,r.jsxs)("div",{className:"flex flex-col group/consensus cursor-help",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsxs)("span",{className:"flex h-2 w-2 relative",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),(0,r.jsxs)("span",{className:"text-xs font-bold text-foreground",children:["High Consensus (",e.related_links.length+1,")"]})]}),(0,r.jsxs)("span",{className:"text-[10px] text-muted-foreground hidden group-hover/consensus:block absolute bg-popover px-2 py-1 rounded border shadow-lg -mt-8 ml-4 z-50 w-48",children:["Also covered by ",e.related_links.map(e=>e.source).join(", "),"..."]})]}):(0,r.jsxs)("div",{className:"text-[10px] text-muted-foreground flex items-center gap-1",title:(e.trustReasons||[]).join("\n"),children:["Single Source ",(0,r.jsx)(b,{className:"h-3 w-3"})]})}),(0,r.jsxs)("a",{href:e.url||e.originalUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs font-bold text-white bg-primary hover:bg-primary/90 px-3 py-1.5 rounded-lg transition-all shadow-sm active:scale-95",onClick:e=>e.stopPropagation(),children:["Read on ",(null===(n=e.source)||void 0===n?void 0:n.split(" ")[0])||"Source",(0,r.jsx)(v,{className:"ml-1 h-3 w-3"})]})]})]})]},e.id)})}):(0,r.jsxs)("div",{className:"py-20 text-center text-muted-foreground",children:[(0,r.jsx)(j.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-20"}),(0,r.jsx)("p",{className:"text-lg",children:"No market insights available at the moment."})]})]}),(0,r.jsx)(x,{open:!!_,onOpenChange:e=>!e&&C(null),children:(0,r.jsx)(p,{hideClose:!0,className:"max-w-2xl max-h-[90vh] overflow-y-auto p-0 gap-0 border-none sm:rounded-2xl",children:_&&(0,r.jsxs)("div",{className:"bg-background sm:rounded-2xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative h-48 w-full bg-secondary",children:[(0,r.jsx)("img",{src:_._resolvedImage||_.image_url,alt:"",className:"w-full h-full object-cover opacity-90",onError:e=>{e.target.src=I(0)}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/20 hover:bg-black/40 text-white rounded-full backdrop-blur-sm",onClick:()=>C(null),children:(0,r.jsx)(m,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"px-6 pb-6 -mt-12 relative",children:[(0,r.jsxs)("div",{className:"bg-card border border-border/50 shadow-sm rounded-xl p-5 mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs font-semibold tracking-wider uppercase text-muted-foreground mb-4",children:[(0,r.jsx)(i.C,{variant:"outline",className:"Market"===_.category?"text-red-600 border-red-200 bg-red-50":"Supply"===_.category?"text-green-600 border-green-200 bg-green-50":"text-blue-600 border-blue-200 bg-blue-50",children:_.category||"General"}),(0,r.jsx)("span",{children:_.publishedAt?new Date(_.publishedAt).toLocaleDateString():"Unknown Date"}),(0,r.jsx)("div",{className:"h-4 w-px bg-border/60 mx-1"}),_.trustScore&&(0,r.jsxs)("span",{className:"flex items-center gap-1.5 ".concat(_.trustScore>=80?"text-green-600":"text-amber-600"),title:null===(s=_.trustReasons)||void 0===s?void 0:s.join(", "),children:[(0,r.jsx)("div",{className:"h-1.5 w-1.5 rounded-full ".concat(_.trustScore>=80?"bg-green-500 shadow-[0_0_6px_rgba(34,197,94,0.6)]":"bg-amber-500")}),_.trustScore,"% Trust"]}),((null===(t=_.related_links)||void 0===t?void 0:t.length)>0||_.source_count>1)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-border/40",children:"â€¢"}),(0,r.jsxs)("span",{className:"flex items-center gap-1 text-primary",children:[(0,r.jsx)("div",{className:"flex gap-0.5",children:[1,2,3].map(e=>{var s;return(0,r.jsx)("div",{className:"h-1 w-1 rounded-full ".concat((_.source_count||(null===(s=_.related_links)||void 0===s?void 0:s.length)||1)>=e?"bg-primary":"bg-primary/20")},e)})}),"High Consensus"]})]})]}),(0,r.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-foreground leading-tight",children:_.title})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm font-bold uppercase text-primary",children:"Key Takeaway"})]}),(0,r.jsxs)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[(0,r.jsx)("p",{className:"text-base text-foreground/90 leading-relaxed font-medium",children:_.ai_implication||_.summary}),!_.ai_implication&&!_.summary&&(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:_.content},className:"line-clamp-4"})]})]}),_.tags&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-8",children:[_.tags.slice(0,3).map((e,s)=>(0,r.jsxs)("span",{className:"text-xs font-medium text-muted-foreground bg-secondary px-2 py-1 rounded-md",children:["#",e.replace(/\s+/g,"")]},s)),_.tags.length>3&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground px-1 py-1",children:["+",_.tags.length-3," more"]})]}),(0,r.jsxs)("div",{className:"border-t border-border pt-6 space-y-4",children:[_.url&&(0,r.jsx)(d.z,{className:"w-full h-12 text-base font-semibold shadow-sm",asChild:!0,children:(0,r.jsxs)("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",children:["Read on ",_.primary_source||_.source," ",(0,r.jsx)(v,{className:"ml-2 h-4 w-4"})]})}),_.related_links&&_.related_links.length>0&&(0,r.jsxs)("details",{className:"group text-sm text-muted-foreground",children:[(0,r.jsxs)("summary",{className:"cursor-pointer hover:text-foreground flex items-center gap-2 select-none list-none",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Also covered by ",_.related_links.length," other sources"]}),(0,r.jsx)(f.Z,{className:"h-3 w-3 group-open:rotate-180 transition-transform"})]}),(0,r.jsx)("div",{className:"mt-3 pl-0 space-y-2 flex flex-col border-l-2 border-border/50 ml-1 pl-3",children:_.related_links.map((e,s)=>e.url!==_.url&&(0,r.jsxs)("a",{href:e.url,target:"_blank",className:"block text-primary hover:underline underline-offset-4 truncate",children:[e.source,": ",e.url]},s))})]})]})]})]})})})]})]})}}},function(e){e.O(0,[809,66,20,298,888,774,179],function(){return e(e.s=5242)}),_N_E=e.O()}]);