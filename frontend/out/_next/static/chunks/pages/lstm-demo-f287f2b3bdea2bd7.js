(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{4658:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lstm-demo",function(){return t(8228)}])},3472:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var a=t(5893),s=t(316),n=t(4606),l=t(4088),i=t(6915),o=t(3311),d=t(4819);function c(e){let{title:r,value:t,change:c,changeLabel:u="vs last 7 days",badge:x,icon:m,trend:p="neutral"}=e,f="up"===p?l.Z:"down"===p?i.Z:o.Z;return(0,a.jsxs)(s.Zb,{className:"bg-card border border-border shadow-none overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,a.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[(0,a.jsx)(s.ll,{className:"text-sm font-medium text-muted-foreground",children:r}),x&&(0,a.jsx)(n.C,{variant:x.variant||"outline",className:"text-xs font-medium shadow-sm",children:x.label})]}),(0,a.jsx)(s.aY,{className:"relative z-10",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[m&&(0,a.jsx)("div",{className:(0,d.cn)("p-2 rounded-lg bg-primary/5 group-hover:bg-primary/10 transition-colors","up"===p?"text-success":"down"===p?"text-destructive":"text-primary"),children:(0,a.jsx)(m,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:"text-2xl font-bold tracking-tight text-foreground",children:t||"â€”"})]}),void 0!==c&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center gap-1 text-xs px-2 py-1 rounded-full font-medium","up"===p?"text-success bg-success/10":"down"===p?"text-destructive bg-destructive/10":"text-muted-foreground bg-secondary"),children:[(0,a.jsx)(f,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:c})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:u})]})]})})]})}},5411:function(e,r,t){"use strict";var a=t(5893),s=t(7294),n=t(3148),l=t(6495),i=t(7202),o=t(4819);n.kL.register(n.uw,n.f$,n.od,n.jn,n.Dx,n.u,n.De,n.Gu),r.Z=e=>{var r,t;let{historyDates:n=[],historyPrices:d=[],forecast:c}=e,[u,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)("ALL");(0,s.useEffect)(()=>{x(!0)},[]);let f=(0,s.useMemo)(()=>{if(!n.length)return{dates:[],prices:[]};let e=0;switch(m){case"7D":e=7;break;case"1M":e=30;break;case"3M":e=90;break;case"1Y":e=365;break;default:e=n.length}e>n.length&&(e=n.length);let r=n.length-e;return{dates:n.slice(r),prices:d.slice(r)}},[n,d,m]),h=f.dates.length>0,g=(null==c?void 0:null===(r=c.forecast_dates)||void 0===r?void 0:r.length)>0&&(null==c?void 0:null===(t=c.median_prices)||void 0===t?void 0:t.length)>0;if(!u)return(0,a.jsx)("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Loading chart..."});if(!h&&!g)return(0,a.jsx)("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No data available"});let b=[...f.dates];g&&b.push(...c.forecast_dates);let v=e=>{let r=e.chart.ctx.createLinearGradient(0,0,0,400);return r.addColorStop(0,"rgba(239, 68, 68, 0.5)"),r.addColorStop(1,"rgba(239, 68, 68, 0.0)"),r},j=[];if(h&&j.push({label:"Historical Price",data:f.prices,borderColor:"#ef4444",backgroundColor:e=>v(e),tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"#ef4444",pointBorderColor:"#fff",pointBorderWidth:2,borderWidth:2}),g){let e=Array(f.prices.length).fill(null),r=f.prices[f.prices.length-1],t=[r,...c.median_prices],a=e.slice(0,-1);if(j.push({label:"AI Forecast",data:[...a,...t],borderColor:"#dc2626",backgroundColor:"transparent",borderDash:[5,5],tension:.4,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"#dc2626",pointBorderColor:"#fff",pointBorderWidth:2,borderWidth:2}),c.upper_band&&c.lower_band){let e=[r,...c.upper_band],t=[r,...c.lower_band];j.push({label:"Confidence Range",data:[...a,...e],borderColor:"transparent",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:"+1",pointRadius:0,tension:.4}),j.push({label:"Lower Band",data:[...a,...t],borderColor:"transparent",backgroundColor:"transparent",fill:!1,pointRadius:0,tension:.4})}}return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4 gap-1",children:["7D","1M","3M","1Y","ALL"].map(e=>(0,a.jsx)(i.z,{variant:m===e?"default":"ghost",size:"sm",onClick:()=>p(e),className:(0,o.cn)("h-7 text-xs px-2",m===e?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),children:e},e))}),(0,a.jsx)("div",{className:"flex-1 min-h-[300px] w-full",children:(0,a.jsx)(l.x1,{data:{labels:b,datasets:j},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:6,font:{size:11}}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#fff",bodyColor:"#cbd5e1",borderColor:"rgba(255,255,255,0.1)",borderWidth:1,padding:10,cornerRadius:8,displayColors:!0,callbacks:{label:e=>{if("Lower Band"===e.dataset.label||"Confidence Range"===e.dataset.label)return null;let r=e.dataset.label||"";return r&&(r+=": "),null!==e.parsed.y&&(r+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),r}}}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:8,font:{size:10},color:"#94a3b8"}},y:{grid:{color:"rgba(255, 255, 255, 0.05)",drawBorder:!1},ticks:{font:{size:10},color:"#94a3b8",callback:e=>"$"+e}}}}})})]})}},4606:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var a=t(5893);t(7294);var s=t(2003),n=t(4819);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...s})}},316:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var a=t(5893),s=t(7294),n=t(4819);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},1568:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(1462).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4088:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(1462).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},8228:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return S}});var a=t(5893),s=t(7294),n=t(9008),l=t.n(n),i=t(1298),o=t(5411),d=t(3472),c=t(316),u=t(4606),x=t(1462);let m=(0,x.Z)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),p=e=>{let{name:r,type:t,units:s,activation:n,isLast:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"w-64 p-4 rounded-xl border border-border/50 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm shadow-sm hover:shadow-md hover:border-primary/30 transition-all group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:r}),(0,a.jsx)(u.C,{variant:"outline",className:"text-[10px] bg-primary/5 text-primary border-primary/20",children:t})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"opacity-70",children:"Units"}),(0,a.jsx)("span",{className:"font-medium text-foreground",children:s})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"opacity-70",children:"Activation"}),(0,a.jsx)("span",{className:"font-medium text-foreground",children:n})]})]})]}),!l&&(0,a.jsx)("div",{className:"h-8 flex items-center justify-center",children:(0,a.jsx)(m,{className:"h-4 w-4 text-muted-foreground/50"})})]})};function f(){let e=[{name:"Input Layer",type:"Input",units:"30 (Sequence Length)",activation:"-"},{name:"LSTM Layer 1",type:"LSTM",units:"50",activation:"Tanh"},{name:"Dropout Layer 1",type:"Dropout",units:"Rate: 0.2",activation:"-"},{name:"LSTM Layer 2",type:"LSTM",units:"50",activation:"Tanh"},{name:"Dropout Layer 2",type:"Dropout",units:"Rate: 0.2",activation:"-"},{name:"Dense Output",type:"Dense",units:"1",activation:"Linear"}];return(0,a.jsxs)(c.Zb,{className:"glass-card border-none h-full",children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{className:"text-base",children:"Model Architecture"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("div",{className:"flex flex-col items-center py-2",children:e.map((r,t)=>(0,a.jsx)(p,{...r,isLast:t===e.length-1},t))})})]})}var h=t(3148),g=t(6495);function b(){let e=Array.from({length:50},(e,r)=>r+1),r=e.map(e=>.5*Math.exp(-.1*e)+.05+.02*Math.random()),t=e.map(e=>.55*Math.exp(-.09*e)+.08+.03*Math.random());return(0,a.jsxs)(c.Zb,{className:"glass-card border-none h-full",children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{className:"text-base",children:"Training Loss Curve"})}),(0,a.jsx)(c.aY,{className:"h-[300px]",children:(0,a.jsx)(g.x1,{data:{labels:e,datasets:[{label:"Training Loss",data:r,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.5)",tension:.4,pointRadius:0,borderWidth:2},{label:"Validation Loss",data:t,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.5)",tension:.4,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:6,font:{size:11}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:10}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1}}})})]})}h.kL.register(h.uw,h.f$,h.od,h.jn,h.Dx,h.u,h.De);var v=t(7202),j=t(4088),y=t(6915),N=t(63),w=t(1565),C=t(5197),k=t(7400);let L=(0,x.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Z=(0,x.Z)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var M=t(1568);function S(){let[e,r]=(0,s.useState)(!1),[t,n]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(30),[g,S]=(0,s.useState)("v2.1.0 (Production)"),D=async()=>{r(!0),m(null),n(null);try{console.log("[LSTM Demo] Calling API with ".concat(p," days...")),await new Promise(e=>setTimeout(e,2e3));let e=Array.from({length:p},(e,r)=>{let t=145.5*(1+.05*Math.sin(r/5)+r/100);return{date:new Date(Date.now()+864e5*r).toISOString().split("T")[0],predicted:t,lower:.95*t,upper:1.05*t}}),r={success:!0,data:{modelName:"LSTM-Cashew-V2",modelType:"Bidirectional LSTM",basePrice:145.5,finalPrice:e[e.length-1].predicted,priceChange:(e[e.length-1].predicted-145.5)/145.5*100,trendLabel:"UP",confidence:.87,detailedData:e}};if(r.success&&r.data)n(r.data);else throw Error("Invalid response format")}catch(e){console.error("[LSTM Demo] Error:",e),m(e.message)}finally{r(!1)}},R=(null==t?void 0:t.trendLabel)==="UP"?j.Z:(null==t?void 0:t.trendLabel)==="DOWN"?y.Z:N.Z,T=(null==t?void 0:t.trendLabel)==="UP"?{label:"Bullish",variant:"success"}:(null==t?void 0:t.trendLabel)==="DOWN"?{label:"Bearish",variant:"destructive"}:{label:"Neutral",variant:"outline"},_=t?{historyDates:["2023-01-01","2023-01-02","2023-01-03"],historyPrices:[140,142,145.5],forecast:{forecast_dates:t.detailedData.map(e=>e.date),median_prices:t.detailedData.map(e=>e.predicted),upper_band:t.detailedData.map(e=>e.upper),lower_band:t.detailedData.map(e=>e.lower)}}:null;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"LSTM Model Lab | Cashew Forecast"})}),(0,a.jsx)(i.Z,{title:"LSTM Model Lab",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(c.Zb,{className:"glass-card border-none",children:[(0,a.jsx)(c.Ol,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 text-primary"}),"Model Configuration"]}),(0,a.jsx)(c.SZ,{children:"Configure parameters for the LSTM neural network"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(u.C,{variant:"outline",className:"h-8 px-3 gap-1 bg-background/50",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"GPU Active"]})})]})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Model Version"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"h-10 w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:g,onChange:e=>S(e.target.value),children:[(0,a.jsx)("option",{children:"v2.1.0 (Production)"}),(0,a.jsx)("option",{children:"v2.2.0-beta (Exp)"}),(0,a.jsx)("option",{children:"v1.5.4 (Legacy)"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Forecast Horizon (Days)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"range",min:"7",max:"90",step:"1",value:p,onChange:e=>h(Number(e.target.value)),className:"w-32 accent-primary"}),(0,a.jsxs)("span",{className:"w-12 text-center font-mono text-sm border rounded px-1 py-0.5 bg-background/50",children:[p,"d"]})]})]}),(0,a.jsx)(v.z,{onClick:D,disabled:e,className:"min-w-[160px]",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Training..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),"Run Inference"]})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-6 xl:col-span-1",children:[(0,a.jsx)(f,{}),(0,a.jsx)(b,{})]}),(0,a.jsxs)("div",{className:"space-y-6 xl:col-span-2",children:[t&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(d.Z,{title:"Base Price",value:"$".concat(t.basePrice.toFixed(2)),icon:L}),(0,a.jsx)(d.Z,{title:"Final Price",value:"$".concat(t.finalPrice.toFixed(2)),icon:L}),(0,a.jsx)(d.Z,{title:"Trend",value:t.trendLabel,change:"".concat(t.priceChange>0?"+":"").concat(t.priceChange.toFixed(2),"%"),badge:T,icon:R,trend:"UP"===t.trendLabel?"up":"DOWN"===t.trendLabel?"down":"neutral"}),(0,a.jsx)(d.Z,{title:"Confidence",value:"".concat((100*t.confidence).toFixed(0),"%"),badge:{label:"High",variant:"success"},icon:N.Z})]}),(0,a.jsxs)(c.Zb,{className:"glass-card border-none min-h-[400px] flex flex-col",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"Prediction vs Actual"}),(0,a.jsx)(c.SZ,{children:"Model performance comparison on test set + future forecast"})]}),(0,a.jsx)(c.aY,{className:"flex-1",children:t?(0,a.jsx)(o.Z,{..._}):(0,a.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)(Z,{className:"h-12 w-12 mx-auto opacity-20"}),(0,a.jsx)("p",{children:"Ready to train model."}),(0,a.jsx)("p",{className:"text-sm",children:'Configure parameters and click "Run Inference"'})]})})})]}),t&&(0,a.jsxs)("details",{className:"group",children:[(0,a.jsx)("summary",{className:"cursor-pointer list-none",children:(0,a.jsx)(c.Zb,{className:"transition-colors group-hover:bg-accent/50 border-dashed",children:(0,a.jsx)(c.Ol,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(c.ll,{className:"text-sm font-mono flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"{ }"}),"Raw Inference Output"]}),(0,a.jsx)(M.Z,{className:"h-4 w-4 transition-transform group-open:rotate-180"})]})})})}),(0,a.jsx)(c.Zb,{className:"mt-2 border-none bg-slate-950 text-slate-50",children:(0,a.jsx)(c.aY,{className:"pt-4",children:(0,a.jsx)("pre",{className:"overflow-auto text-xs font-mono max-h-64",children:JSON.stringify(t,null,2)})})})]})]})]})]})})]})}},9008:function(e,r,t){e.exports=t(7828)}},function(e){e.O(0,[196,809,537,298,888,774,179],function(){return e(e.s=4658)}),_N_E=e.O()}]);