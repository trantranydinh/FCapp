"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{1298:function(e,t,r){r.d(t,{Z:function(){return I}});var s=r(5893),a=r(1664),n=r.n(a),i=r(1163),l=r(7294),o=r(7711),c=r(979),d=r(5444),f=r(5908),m=r(816),h=r(9053),u=r(5913),x=r(2900),p=r(7188),b=r(7218),g=r(1565),y=r(1194),v=r(245),j=r(7553),w=r(760),N=r(220),k=r(3696),S=r(7202),C=r(4819),Z=r(4560);let P=()=>{let e=(0,l.useRef)(null),t=(0,l.useRef)(null),r=(0,l.useRef)("/assets/images/logo-icon.png");(0,l.useEffect)(()=>{let s=document.querySelector("link[rel~='icon']");if(s||((s=document.createElement("link")).rel="icon",document.head.appendChild(s)),e.current=s,s.href&&!r.current.includes("data:")&&(r.current=s.href),!t.current){let e=document.createElement("canvas");e.width=32,e.height=32,t.current=e}},[]);let s=(0,l.useCallback)(function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.current||!e.current)return;let a=t.current.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.src="/assets/images/logo-icon.png";let i=()=>{if("loading"===r)a.beginPath(),a.arc(24,24,7,0,2*Math.PI),a.lineWidth=3,a.strokeStyle="rgba(34, 197, 94, 0.3)",a.stroke(),a.beginPath(),a.arc(24,24,7,0,Math.PI),a.lineWidth=3,a.strokeStyle="#22c55e",a.stroke();else if("error"===r)a.beginPath(),a.arc(24,24,6,0,2*Math.PI),a.fillStyle="#ef4444",a.fill(),a.strokeStyle="#ffffff",a.lineWidth=1.5,a.stroke(),a.fillStyle="white",a.font="bold 10px Arial",a.fillText("!",24,24);else if("badge"===r){let e=s||1;a.beginPath(),a.arc(22,10,8,0,2*Math.PI),a.fillStyle="#ef4444",a.fill(),a.strokeStyle="#ffffff",a.lineWidth=1.5,a.stroke(),a.fillStyle="#ffffff",a.font="bold 10px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillText(e>9?"9+":e,22,11)}e.current.href=t.current.toDataURL("image/png")};n.onload=()=>{a.clearRect(0,0,32,32),a.drawImage(n,2,2,28,28),i()},n.onerror=()=>{a.fillStyle="#ccc",a.fillRect(0,0,32,32),i()}},[]);return{setFavicon:(t,a)=>{"normal"===t||"idle"===t?e.current&&(e.current.href=r.current):s(t,a)}}};var M=r(5269);let z=[{type:"section",title:"Parity Tool",items:[{href:"/dashboard",label:"Calculation",icon:o.Z},{href:"/dashboard#history",label:"History",icon:c.Z}]},{type:"section",title:"Price Forecast",items:[{href:"/price-forecast",label:"Overview",icon:d.Z},{href:"/market-insights",label:"Market Signals",icon:f.Z},{href:"/news-watch",label:"News Watch",icon:m.Z,badge:"Live"},{href:"/reports",label:"Decision Support",icon:h.Z},{type:"subheader",label:"Models & Experiments"},{href:"/decision-tree",label:"Model Logic",icon:u.Z},{href:"/lstm-demo",label:"Forecast Model",icon:x.Z}]},{type:"section",title:"System",items:[{href:"/system",label:"Methodology",icon:p.Z},{href:"/changelog",label:"Change Log",icon:b.Z}]},{type:"section",title:"App Settings",items:[{href:"/settings",label:"Settings",icon:g.Z},{href:"/data-management",label:"Data Management",icon:y.Z}]}];function I(e){let{children:t,title:r="Dashboard"}=e,{user:a,logout:o}=(0,Z.a)(),{setFavicon:c}=P(),d=(0,i.useRouter)(),{mutate:f}=(0,M.kY)(),[m,h]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[p,b]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{b(!0),window.innerWidth<1024&&h(!0)},[]),d.pathname,(0,s.jsxs)("div",{className:"flex h-screen bg-background overflow-hidden font-sans text-foreground",children:[(0,s.jsxs)("aside",{className:(0,C.cn)("relative z-30 flex flex-col h-full border-r border-border bg-secondary transition-all duration-300 ease-in-out",m?"w-[72px]":"w-64"),children:[(0,s.jsx)("div",{className:"h-16 flex items-center justify-center border-b border-border bg-secondary shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-auto flex items-center justify-center",children:(0,s.jsx)("img",{src:"/assets/images/logo-icon.png",alt:"Intersnack",className:"h-full w-auto object-contain"})}),!m&&(0,s.jsxs)("div",{className:"flex flex-col animate-in fade-in duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-[10px] leading-tight text-[#1D222C]",children:"Intersnack Cashew"}),(0,s.jsx)("span",{className:"text-[9px] text-muted-foreground uppercase tracking-wider font-medium",children:"Internal System"})]})]})}),(0,s.jsx)("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-6",children:z.map((e,t)=>(0,s.jsxs)("div",{className:"space-y-1",children:[!m&&(0,s.jsxs)("h3",{className:"px-3 text-[10px] uppercase tracking-wider font-bold text-muted-foreground/70 mb-2 select-none flex items-center justify-between",children:[e.title,("App Settings"===e.title||"Price Forecast"===e.title)&&(0,s.jsx)("span",{className:"text-[9px] bg-primary/10 text-primary px-1.5 py-0.5 rounded ml-2 normal-case",children:"Coming Soon"})]}),(0,s.jsx)("div",{className:"space-y-1",children:e.items.map((e,t)=>{if("subheader"===e.type)return m?(0,s.jsx)("div",{className:"my-2 border-t border-border/50 mx-2"},t):(0,s.jsx)("div",{className:"pt-3 pb-1 px-3",children:(0,s.jsx)("div",{className:"text-[10px] uppercase tracking-wider font-bold text-muted-foreground/40 border-b border-border/40 pb-1",children:e.label})},t);let r=d.pathname===e.href;return e.href.includes("#")?r=d.asPath===e.href:"/dashboard"===e.href&&(r="/dashboard"===d.asPath||"/dashboard#"===d.asPath),(0,s.jsxs)(n(),{href:e.href,className:(0,C.cn)("group flex items-center gap-3 px-3 py-2 rounded-md transition-all duration-200",r?"bg-white shadow-sm border-l-2 border-primary text-primary font-medium":"text-muted-foreground hover:bg-white/50 hover:text-foreground"),title:m?e.label:"",children:[(0,s.jsx)(e.icon,{className:(0,C.cn)("h-5 w-5 shrink-0 transition-colors",r?"text-primary":"text-muted-foreground group-hover:text-foreground")}),!m&&(0,s.jsxs)("div",{className:"flex flex-1 items-center justify-between min-w-0",children:[(0,s.jsx)("span",{className:"text-sm truncate",children:e.label}),e.badge&&(0,s.jsx)("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-600 px-1.5 py-0.5 rounded-full font-medium border border-emerald-500/20 ml-2",children:e.badge})]})]},e.href)})})]},t))}),(0,s.jsxs)("div",{className:"p-4 border-t border-border bg-secondary shrink-0",children:[!m&&(0,s.jsxs)("div",{className:"mb-4 pl-1 space-y-0.5 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[(0,s.jsx)("p",{className:"text-[10px] font-semibold text-foreground/80",children:"Intersnack Cashew Company"}),(0,s.jsxs)("div",{className:"text-[10px] text-muted-foreground flex flex-col",children:[(0,s.jsx)("span",{children:"Version 2.1.0 \xb7 Beta"}),(0,s.jsx)("span",{className:"opacity-70",children:"Last updated: Jan 2026"})]})]}),(0,s.jsx)(S.z,{variant:"ghost",size:"icon",className:"w-full h-8 flex items-center justify-center rounded-md hover:bg-white/50 text-muted-foreground",onClick:()=>h(!m),children:m?(0,s.jsx)(v.Z,{className:"h-4 w-4"}):(0,s.jsx)(j.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-background",children:[(0,s.jsxs)("header",{className:"h-16 flex items-center justify-between px-6 border-b border-border bg-background/95 backdrop-blur-sm z-20 sticky top-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[m&&(0,s.jsx)(S.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>h(!1),children:(0,s.jsx)(w.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-foreground tracking-tight",children:r}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_4px_rgba(34,197,94,0.4)]"}),(0,s.jsx)("span",{children:"System Operational"}),(0,s.jsx)("span",{className:"text-border",children:"|"}),(0,s.jsxs)("span",{children:["Latency: ",Math.floor(20*Math.random()+15),"ms"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(S.z,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-sm border border-transparent active:scale-95 transition-transform",disabled:u,onClick:async()=>{x(!0);try{d.pathname.includes("news-watch")&&await fetch("/api/v1/dashboard/news-refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:["cashew"],limit:12})}),await f(()=>!0,void 0,{revalidate:!0}),await d.replace(d.asPath,void 0,{scroll:!1})}catch(e){console.error("Refresh failed:",e)}finally{setTimeout(()=>x(!1),500)}},children:[(0,s.jsx)(N.Z,{className:(0,C.cn)("w-4 h-4 mr-2",u?"animate-spin":"")}),u?"Refreshing...":"Refresh Data"]}),(0,s.jsx)("div",{className:"h-6 w-[1px] bg-border"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-foreground",children:null==a?void 0:a.name}),(0,s.jsx)("div",{className:"text-[10px] text-muted-foreground uppercase",children:"Internal System View"})]}),(0,s.jsx)("div",{className:"h-8 w-8 rounded bg-secondary border border-border flex items-center justify-center text-xs font-bold text-foreground",children:p&&(null==a?void 0:a.name)?a.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"}),(0,s.jsx)("button",{onClick:o,className:"text-muted-foreground hover:text-primary transition-colors",children:(0,s.jsx)(k.Z,{className:"h-4 w-4"})})]})]})]}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-6 scroll-smooth",children:(0,s.jsx)("div",{className:"max-w-[1700px] mx-auto space-y-6",children:t})})]})]})}},7202:function(e,t,r){r.d(t,{z:function(){return o}});var s=r(5893),a=r(7294),n=r(2003),i=r(4819);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,...o}=e;return(0,s.jsx)("button",{className:(0,i.cn)(l({variant:a,size:n,className:r})),ref:t,...o})});o.displayName="Button"},4819:function(e,t,r){r.d(t,{cn:function(){return n}});var s=r(512),a=r(8388);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}}]);